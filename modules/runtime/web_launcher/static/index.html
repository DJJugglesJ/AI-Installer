<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Hub Web Launcher</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <div>
        <h1>AI Hub Web Launcher</h1>
        <p class="muted">Web-based replacement for the YAD/menu flows.</p>
      </div>
      <form id="auth-form" class="auth-form">
        <label>
          API token
          <input id="auth-token" type="password" placeholder="Optional bearer token" />
        </label>
        <button type="submit">Save</button>
        <span id="auth-state" class="muted">Not set</span>
      </form>
      <div class="status-pill" id="status-pill">Loading…</div>
    </header>

    <main>
      <section id="actions" class="card">
        <div class="card-header">
          <h2>Launcher Actions</h2>
          <p>Runs the same shell helpers as the legacy menus.</p>
        </div>
        <div id="actions-list" class="actions-grid">
          <div class="placeholder"><span class="spinner" aria-hidden="true"></span> Loading actions…</div>
        </div>
        <div id="action-result" class="result"></div>
      </section>

      <section id="prompt-builder" class="card">
        <div class="card-header">
          <h2>Prompt Builder</h2>
          <p>Compile structured scenes into prompts and write the latest bundle for launchers.</p>
        </div>
        <form id="prompt-form" class="form-grid">
          <label>World<input type="text" name="world" placeholder="Space opera" /></label>
          <label>Setting<input type="text" name="setting" placeholder="Neon market" /></label>
          <label>Mood<input type="text" name="mood" placeholder="Dramatic" /></label>
          <label>Style<input type="text" name="style" placeholder="Cinematic, volumetric" /></label>
          <label>NSFW Level<input type="text" name="nsfw_level" placeholder="safe / soft / adult" /></label>
          <label>Camera<input type="text" name="camera" placeholder="35mm, low angle" /></label>
          <label class="full">Extra Elements<textarea name="extra_elements" rows="2" placeholder="fog, rain, floating lanterns"></textarea></label>
        </form>
        <div class="characters">
          <div class="card-subheader">
            <h3>Characters</h3>
            <button id="add-character" type="button">Add Character</button>
          </div>
          <table id="character-table">
            <thead>
              <tr><th>Slot ID</th><th>Character ID</th><th>Role</th><th>Override Prompt</th><th></th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="actions-row">
          <button id="compile-prompt" type="button">Compile Prompt</button>
          <div id="prompt-result" class="result"></div>
        </div>
      </section>

      <section id="manifests" class="card">
        <div class="card-header">
          <h2>Curated Manifests</h2>
          <p>Browse bundled model and LoRA manifests, select entries, and trigger installs.</p>
        </div>
        <div class="filters">
          <input id="manifest-search" type="search" placeholder="Search name, tag, or license" />
          <div class="filter-buttons">
            <label><input type="checkbox" id="filter-models" checked /> Models</label>
            <label><input type="checkbox" id="filter-loras" checked /> LoRAs</label>
          </div>
          <div class="tags" id="tag-filters"></div>
        </div>
        <div id="manifest-table" class="manifest-table">
          <div class="placeholder"><span class="spinner" aria-hidden="true"></span> Loading manifests…</div>
        </div>
        <div class="actions-row">
          <button id="install-selected" type="button">Install Selected</button>
          <div id="install-result" class="result"></div>
        </div>
      </section>

      <section id="installs" class="card">
        <div class="card-header">
          <h2>Install Progress & History</h2>
          <p>Track running installers and quickly reuse past selections.</p>
        </div>
        <div id="install-progress" class="manifest-grid">
          <div class="placeholder"><span class="spinner" aria-hidden="true"></span> Loading installers…</div>
        </div>
      </section>

      <section id="characters" class="card">
        <div class="card-header">
          <h2>Character Studio</h2>
          <p>Registry entries shared with Prompt Builder.</p>
        </div>
        <ul id="character-list" class="manifest-list">
          <li class="placeholder"><span class="spinner" aria-hidden="true"></span> Loading characters…</li>
        </ul>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
